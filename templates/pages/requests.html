{% extends 'base.html' %} 

{% include 'navbar.html' %}

{% block content %}


<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">


<div class="container mt-5">
  <h2 class="mb-4">All Loan Requests</h2>

  {% if requests %}
  <table class="table table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Gender</th>
        <th>Married</th>
        <th>Dependents</th>
        <th>Education</th>
        <th>Self Employed</th>
        <th>Applicant Income</th>
        <th>Coapplicant Income</th>
        <th>Loan Amount</th>
        <th>Loan Term</th>
        <th>Credit History</th>
        <th>Property Area</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for request in requests %}
      <tr>
        <td>{{ request.id }}</td>
        <td>{{ request.gender }}</td>
        <td>{{ request.married }}</td>
        <td>{{ request.dependents }}</td>
        <td>{{ request.education }}</td>
        <td>{{ request.self_employed }}</td>
        <td>{{ request.applicant_income }}</td>
        <td>{{ request.coapplicant_income }}</td>
        <td>{{ request.loan_amount }}</td>
        <td>{{ request.loan_amount_term }}</td>
        <td>{{ request.credit_history }}</td>
        <td>{{ request.property_area }}</td>
        <td>{{ request.loan_status }}</td>
        <td>
          <form method="post">
            {% csrf_token %}
            <input type="hidden" name="request_id" value="{{ request.id }}" />
            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <div class="alert alert-warning">No loan requests found.</div>
  {% endif %}

  <div class="text-start mt-4">
    <a href="{% url 'loan_prediction:home' %}" class="btn btn-outline-primary btn-sm rounded-pill px-3">
      <i class="bi bi-arrow-left-circle"></i> Back to Home </a>
  </div>
</div>
{% endblock %}

